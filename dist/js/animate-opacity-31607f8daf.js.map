{"version":3,"sources":["animate-opacity.js"],"names":["animate","ele","attr_options","callback","attr","target","iNow","parseInt","getComputedStyle","clearInterval","timer","setInterval","item","speed","Math","ceil","floor","abs","num","style"],"mappings":"AAAA,aAEA,SAASA,QAAQC,EAAKC,EAAcC,GAClC,IAAK,IAAIC,KAAQF,EACfA,EAAaE,GAAQ,CAEnBC,OAAiB,YAATD,EAA0C,IAArBF,EAAaE,GAAcF,EAAaE,GAErEE,KAAe,YAATF,EAAqBG,SAAuC,IAA9BC,iBAAiBP,GAAKG,IAAeG,SAASC,iBAAiBP,GAAKG,KAK5GK,cAAcR,EAAIS,OAClBT,EAAIS,MAAQC,YAAY,WAEtB,IAAK,IAAIP,KAAQF,EAAc,CAE7B,IAAIU,EAAOV,EAAaE,GAEpBC,EAASO,EAAKP,OACdC,EAAOM,EAAKN,KAGZO,GAASR,EAASC,GAAQ,GAI9B,GAFAO,EAAgB,EAARA,EAAYC,KAAKC,KAAKF,GAASC,KAAKE,MAAMH,GAE9CC,KAAKG,IAAIZ,EAASC,IAASQ,KAAKG,IAAIJ,GAAQ,CAU9C,IAAK,IAAIK,KAJTjB,EAAIkB,MAAMf,GAAiB,YAATA,EAAqBC,EAAS,IAAMA,EAAS,YAExDH,EAAaE,GAEJF,EAEd,OAAO,EAGTO,cAAcR,EAAIS,OACE,mBAAbP,GAA0BA,SAKjCD,EAAaE,GAAME,MAAQO,EAC3BZ,EAAIkB,MAAMf,GAAiB,YAATA,EAAqBF,EAAaE,GAAME,KAAO,IAAMJ,EAAaE,GAAME,KAAO,OAGpG","file":"animate-opacity-31607f8daf.js","sourcesContent":["\"use strict\";\n\nfunction animate(ele, attr_options, callback) {\n  for (var attr in attr_options) {\n    attr_options[attr] = {\n      //  目标点 : 传入的数据;\n      target: attr === \"opacity\" ? attr_options[attr] * 100 : attr_options[attr],\n      //  元素当前的属性值 ;\n      iNow: attr === \"opacity\" ? parseInt(getComputedStyle(ele)[attr] * 100) : parseInt(getComputedStyle(ele)[attr])\n    };\n  } // 关闭开启定时器;\n\n\n  clearInterval(ele.timer);\n  ele.timer = setInterval(function () {\n    // 1. 获取速度; width :  height : \n    for (var attr in attr_options) {\n      // attr : width | height;\n      var item = attr_options[attr]; // console.log(item , attr);\n\n      var target = item.target;\n      var iNow = item.iNow; // 运动所必须的值我们都有了;\n      // 计算速度;\n\n      var speed = (target - iNow) / 10; // 速度取整;\n\n      speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed); // 终止条件 : \n\n      if (Math.abs(target - iNow) <= Math.abs(speed)) {\n        // 终止定时器 ; \n        // 送他一把;\n        // clearInterval( ele.timer );\n        // ele.style[attr] = target + \"px\";\n        // 终止条件不可靠,因为目标的不一致会让运动次数执行不同，有可能提前关闭定时器;\n        ele.style[attr] = attr === \"opacity\" ? target / 100 : target + \"px\"; // 一条运动完成删除对象里面的数据;\n\n        delete attr_options[attr]; // 如果对象里面没有属性了，那么我们关闭定时器就可以了;\n\n        for (var num in attr_options) {\n          // 如果attr_options里面有属性,那么此时我就不应该终止定时器;\n          return false;\n        }\n\n        clearInterval(ele.timer);\n        typeof callback === \"function\" ? callback() : \"\";\n      } else {\n        // 元素运动;\n        // 因为 iNow 是一个临时变量,所以不能再去操作iNow , 要去操作iNow 的数据源;\n        // 多花点经历理解这段代码;\n        attr_options[attr].iNow += speed;\n        ele.style[attr] = attr === \"opacity\" ? attr_options[attr].iNow / 100 : attr_options[attr].iNow + \"px\";\n      }\n    }\n  }, 30);\n}"]}